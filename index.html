<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>🍔 Nico Burger Folie — Invitation</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- logo animé -->
  <img src="logo.png" alt="Logo Nico Burger" class="logo">

  <!-- Conteneur principal -->
  <main class="page">
    <!-- Enveloppe / lettre -->
    <div class="envelope" id="envelope" aria-hidden="false" role="button" tabindex="0">
      <div class="envelope-flap"></div>
      <div class="envelope-body">
        <div class="letter" id="letter">
          <!-- Contenu de la lettre (invitation) -->
          <div class="letter-inner">
            <h1>🍔 Nico Burger Folie 🍟</h1>
            <p class="lead"><strong>Samedi 23 septembre — 19h30</strong><br>Chez Nico, 42 Rue des Burgers</p>

            <section class="burgers">
              <h2>Au menu :</h2>
              <ul>
                <li>🔥 Burger Classique</li>
                <li>🧀 Cheeseburger Deluxe</li>
                <li>🌶️ Spicy Burger</li>
                <li>🥬 Veggie Burger</li>
              </ul>
            </section>

            <!-- Questionnaire -->
            <section class="questionnaire">
              <h2>Choisis ton burger 🍔</h2>

              <!-- Remplace action par ton endpoint Formspree -->
              <form action="https://formspree.io/f/TON_ID" method="POST" id="burgerForm">
                <div class="choices">
                  <label><input type="radio" name="burger" value="Classique" required> Burger Classique</label>
                  <label><input type="radio" name="burger" value="Cheeseburger Deluxe"> Cheeseburger Deluxe</label>
                  <label><input type="radio" name="burger" value="Spicy"> Spicy Burger</label>
                  <label><input type="radio" name="burger" value="Veggie"> Veggie Burger</label>
                </div>

                <input type="email" name="email" placeholder="Ton e-mail (pour confirmation)" required>

                <button type="submit" class="btn">Envoyer ma réponse</button>
                <p id="formMsg" class="form-msg" aria-live="polite"></p>
              </form>
            </section>

            <footer class="invite-footer">
              <p>On t'attend ! 🎉</p>
              <p class="small">© 2025 Nico Burger Folie</p>
            </footer>
          </div>
        </div> <!-- .letter -->
      </div> <!-- .envelope-body -->
    </div> <!-- .envelope -->
  </main>

  <!-- Script pour ouverture automatique + feedback formulaire -->
  <script>
    (function(){
      const envelope = document.getElementById('envelope');
      const letter = document.getElementById('letter');
      const form = document.getElementById('burgerForm');
      const msg = document.getElementById('formMsg');

      // ouvrir l'enveloppe automatiquement au chargement (si pas reduced motion)
      window.addEventListener('load', () => {
        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (!prefersReduced) {
          envelope.classList.add('open');
          letter.classList.add('show');
        } else {
          // si utilisateur préfère moins d'animations, on affiche directement le contenu
          envelope.classList.add('open');
          letter.classList.add('show');
        }
      });

      // toggle ouvr/ferme sur clic / touche entrée
      envelope.addEventListener('click', () => {
        envelope.classList.toggle('open');
        letter.classList.toggle('show');
      });
      envelope.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          envelope.click();
        }
      });

      // feedback simple lors de l'envoi (Formspree redirige normalement ou renvoie un status)
      form.addEventListener('submit', (e) => {
        // on laisse le submit poursuivre normalement (Formspree gère l'envoi),
        // mais on affiche un message d'attente pour l'utilisateur.
        msg.textContent = "Envoi en cours…";
        msg.style.color = "#333";
        // Optionnel : on pourrait intercepter et utiliser fetch() pour soumettre en AJAX,
        // mais pour la simplicité et compatibilité GitHub Pages on laisse l'envoi natif.
      });
    })();
  </script>
</body>
</html>
